<div
    fxLayout="row wrap"
    fxLayout.xs="column"
    fxLayoutAlign="space-between center"
    style="height: 80px; padding: 0 16px;"
>
    <span class="mat-h2">{{ 'TOCO_SEARCH_SEARCH.SPAN_SEARCH_LABEL' | translate }}</span>

</div>

<toco-progress [loading]="loading"></toco-progress>

<mat-drawer-container autosize style="background-color: white;">

  <!-- Filtros -->
    <mat-drawer #drawer mode="side" opened position="start" style="width: 300px;">

        <toco-search-aggregations *ngIf="sr !== undefined"
            [aggregations]="sr.aggregations" [selectedAggr]="aggrsSelection" (keySelect)="aggrChange($event)"
        >
        </toco-search-aggregations>

    </mat-drawer>

    <ng-container>
      <div *ngIf="sr" class="m-1">

        <div fxLayout="row nowrap" fxLayout.xs="column" fxLayoutAlign="space-between center">
            <button mat-icon-button (click)="drawer.toggle()" matTooltip="Filtros avanzados">
                <mat-icon>filter_list</mat-icon>
            </button>
            <toco-search-query-input
                class="p-1" style="width: 100%;" [query]="query" (queryChange)="queryChange($event)"
            >
            </toco-search-query-input>
        </div>

        <search-list [hitList]="sr.hits"></search-list>

        <mat-paginator [length]="sr.hits.total" [pageSize]="pageSize" [pageIndex]="pageIndex"
            [pageSizeOptions]="pageSizeOptions" (page)="pageChange($event)"
        >
        </mat-paginator>

    </div>
    </ng-container>



</mat-drawer-container>
